pipeline {
	agent {
		docker {
			image 'python:2-alpine'
		}
	}
	stages {
		stage('Build') {
			steps {
				sh '''
				cd $WORKSPACE
				python -V
				python example.py
				echo "hello world"
				hostname
				pwd 
				ls'''
				
			}
		}
	}
	post {
		success {
			withCredentials([gitUsernamePassword(credentialsId: 'maheedhar',
                 gitToolName: 'git-tool')]) {
				sh '''
				git checkout main
				git checkout integrate -- example.py
				git commit -m "Pushig file from integrate to main."
				git push origin main'''
			}
		}
	}
}
